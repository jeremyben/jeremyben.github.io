function $buo_f(){var e=document.createElement("script");e.src="//browser-update.org/update.js",document.body.appendChild(e)}function addEvent(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}!function(e,t){"use strict";function n(t,n){var o=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:T+"-close"},n);return o.overlay.fillColor=o.overlay.fillColor||o.overlay.color||"#888",o.zIndex=o.zIndex||o.overlay.zIndex+1,u||(u=e(window),h=e('<div class="'+T+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(p=e("body")).click(i).on("touchmove",function(){return!1}),e(document).focusin(function(t){z&&!z.has(t.target).length&&(v?v.focus():e(document.activeElement).blur())}).keydown(function(e){return z&&27===e.keyCode?i(e):void 0})),t.each(function(){var t=e(this),n={position:"fixed",display:"none",zIndex:o.zIndex};o.offset?"function"==typeof o.offset?o.offset=function(e){return function(){var t=this;return e.call(t,function(){r.call(t)})}}(o.offset):(n.left=o.offset.left,n.top=o.offset.top,n.marginLeft=n.marginTop=""):o.offset=r,o.closeClass&&t.find("."+o.closeClass).off("click",i).click(i),e.each([["open",I],["close",E],["beforeopen",k],["beforeclose",C]],function(e,n){var i=n[0],a=n[1];"function"==typeof o[i]&&t.off(a,o[i]).on(a,o[i])}),t.css(n).data(x,o).appendTo(p).on("touchmove",function(){return!1})})}function o(o,r){var l,T,E,C,D,A=o.length?o.eq(0):t;return s||!A?o:((r||!(l=A.data(x)))&&(l=n(A,r).data(x)),!d&&l.force&&f&&f.get(0)!==A.get(0)&&(f.stop(!0,!0),h.stop(!0,!0)),!d&&l.force&&z&&z.get(0)!==A.get(0)?(d=A,i(z)):null===z&&(s=!0,D=e.Event(k,{cancelable:!0}),A.trigger(D),D.isDefaultPrevented()||(T=p.get(0).style,g=T.overflow,E=p.prop("clientWidth"),C=p.prop("clientHeight"),p.css("overflow","hidden"),E-=p.prop("clientWidth"),C-=p.prop("clientHeight"),y=T.marginRight,b=T.marginBottom,0>E&&p.css("marginRight","+="+-E),0>C&&p.css("marginBottom","+="+-C),m=e(document.activeElement).blur(),v=null,w=u.scrollLeft(),$=u.scrollTop(),u.scroll(c),a(A,l),l.effect.open.call(f=A,l.duration||1,function(){f=t,A.find("a,input,select,textarea,button,object,area,img,map").each(function(){var t=e(this);return t.focus().get(0)===document.activeElement?(v=t,!1):void 0}),z=A,A.trigger(I)}),h.css({backgroundColor:l.overlay.fillColor,zIndex:l.overlay.zIndex}).fadeTo(l.duration,l.overlay.opacity),z=0),s=!1),o)}function i(n){var i,a,r,l,v=n instanceof e.Event;return!s&&z&&(s=!0,i=v?z:function(){var e=n.index(z);return e>-1?n.eq(e):t}(),i&&(r=e.Event(C,{cancelable:!0}),v?r.from=n:d&&(r.from=d),i.trigger(r),r.isDefaultPrevented()?d=t:(a=i.data(x),l=d?1:a.duration||1,a.effect.close.call(f=i,l,function(){var a;f=t,p.css({overflow:g,marginRight:y,marginBottom:b}),m&&m.length&&m.focus(),u.off("scroll",c).scrollLeft(w).scrollTop($),z=null,a=e.Event(E),v?a.from=n:d&&(a.from=d),i.trigger(a),d&&window.setTimeout(function(){o(d),d=t},0)}),h.fadeOut(l),z=0)),s=!1),v?(n.preventDefault(),!1):n}function a(e,t){var n;t=t||e.data(x),"function"==typeof t.offset&&(n=t.offset.call(e))&&e.css({left:n.left,top:n.top,marginLeft:"",marginTop:""})}function r(){this.css({left:"50%",top:"50%",marginLeft:"-"+this.outerWidth()/2+"px",marginTop:"-"+this.outerHeight()/2+"px"})}function c(e){return u.scrollLeft(w).scrollTop($),e.preventDefault(),!1}function l(e,o,i){var a,r=e.length?e.eq(0):t;return r&&(a=r.data(x)||n(r).data(x),a.hasOwnProperty(o))?(null!=i&&(a[o]=i),a[o]):void 0}var s,d,f,u,p,h,m,v,g,y,b,w,$,x="plainModal",T=x.toLowerCase(),I=T+"open",E=T+"close",k=T+"beforeopen",C=T+"beforeclose",z=null;e(function(){e(window).resize(function(){z&&a(z)})}),e.fn[x]=function(e,t,a){return"open"===e?o(this,t):"close"===e?i(this):"option"===e?l(this,t,a):n(this,e)}}(jQuery);var $buoop={c:2,reminder:24,reminderClosed:24,l:"fr"};try{document.addEventListener("DOMContentLoaded",$buo_f,!1)}catch(e){window.attachEvent("onload",$buo_f)}$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$(document).ready(function(){function e(){window.innerWidth>1920?(t.setAttribute("preserveAspectRatio","none"),t.setAttribute("height",i)):(t.setAttribute("preserveAspectRatio","xMaxYMin slice"),t.setAttribute("height",o))}var t=document.getElementById("bgclouds"),n=parseInt(t.getAttribute("width").replace("px",""),10),o=parseInt(t.getAttribute("height").replace("px",""),10),i=Math.floor(1920*o/n);e();var a=(new Date).getFullYear();$("#year").text(a);for(var r=$("#patron").detach(),c=0;10>c;c++)r.clone().appendTo(".sky").addClass("cloud-clone bg-cloud-anim-"+getRandomInt(2,6)).css({display:"block","font-size":getRandomInt(3,7)+"px",top:getRandomInt(24,75)+"0px",left:getRandomInt(12,30)+"%"});$("#getPortfolio").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#portfolio").offset().top},700)}),$(".choice").on("click",function(e){e.stopImmediatePropagation();var t=$(this),n=t.parent(),o=t.data("open"),i=t.siblings(),a=n.prev().data("open");if(a){var r=n.prev().detach();r.data("open",!1).removeAttr("style").addClass("viewed").find("h3").removeAttr("style").end().find(".close-choice").hide().end().find(".project").remove()}if(!o){t.insertBefore(n);var c=n.height();if(n.height(c),i.hide(),window.innerWidth>860)var l=600;else var l=0;t.animate({width:"100%","margin-right":"0"},l,function(){$.ajax({url:t.data("url"),type:"GET",cache:!1}).done(function(e){t.find("h3").animate({"font-size":"2em"},600).siblings(".close-choice").fadeIn(600),$(e).hide().appendTo(t).slideDown(),i.appendTo(n).slideDown(),$(r).hide().appendTo(n).slideDown(),t.data("open",!0).css("cursor","default"),$("html, body").animate({scrollTop:t.offset().top-50},500)})})}}),$(".close-choice").on("click",function(e){e.stopImmediatePropagation();var t=$(this),n=$(".choices");n.height("");var o=t.closest(".choice").detach();t.hide(),o.data("open",!1).removeAttr("style").addClass("viewed").find("h3").removeAttr("style").end().find(".project").remove().end().hide().appendTo(n).slideDown()});var l=$("#contact-modal").plainModal({duration:400,overlay:{fillColor:"#b0dcff",opacity:.5},effect:{open:$.fn.slideDown,close:$.fn.slideUp}});$("#contact").on("click",function(e){e.preventDefault(),l.plainModal("open")}),$("#contact-form").on("submit",function(e){e.preventDefault();var t=$(this);t.find('input[type="submit"]').prop("disabled",!0),$.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serializeObject(),dataType:"json"}).done(function(){var e=t.width();t.queue("steps",function(e){t.slideToggle(),$("#contact").fadeToggle(),e()}).delay(400,"steps").queue("steps",function(n){var o='<h4 style="text-align:center">Reçu !</h4>';o+='<p style="text-align:center">Je suis déjà en train de répondre ;)</p>',t.html(o),t.children().width(e),t.slideToggle(),n()}).queue("steps",function(e){$("#contact").addClass("disabled").text("Merci !").fadeToggle(),e()}).delay(2250,"steps").queue("steps",function(e){l.plainModal("close"),e()}).dequeue("steps")}).fail(function(){console.log("error")})}),$("#sun").on("click",function(e){e.preventDefault();var t=$("body");$(".cloud-clone").remove(),$(".plainmodal-overlay").remove(),t.addClass("transition");var n=document.documentElement.innerHTML,o=t.html(),i=$('<iframe frameborder="0" style="width:100%; height:100%; overflow:hidden;">'),a=$('<span style="z-index:10;position:fixed;bottom:0;margin-left:-28px"><img style="max-width:none;" src="img/stickpush.svg"></span>');t.css({height:"100%",overflow:"hidden",background:"#fff787"}),$("html").css("height","100%"),document.body.innerHTML="",i.appendTo("body"),setTimeout(function(){var e=i[0].contentWindow.document;e.open(),e.write(n),e.close(),a.appendTo("body"),t.css("background",'url("img/circuit.svg") #333 center right / auto 100% repeat-x fixed')},1),i.animate({width:"400px"},3e3,function(){a.css("margin-left",0).find("img").prop("src","img/stickstand.svg"),setTimeout(function(){i.animate({width:"100%"},3e3,function(){$("body").html(o).removeAttr("style").removeClass("transition"),$("html").removeAttr("style"),r.appendTo(".sky"),$.getScript("js/cool.min.js")})},400)})})});
